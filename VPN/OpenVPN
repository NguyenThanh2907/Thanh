1. Chuẩn bị:
- 1 máy ảo Windows 10.
- 1 máy ảo Ubuntu 20.04.
- 1 máy ảo Windows 7.
2. Mô hình:
 
- Thông tin thiết bị:
   + Windows 10: 192.168.20.26
   + Ubuntu – VPN Server: 192.168.20.21
                                            172.16.0.5
   + Windows 7: 172.16.0.14
III. Thực hiện:
1. Cài đặt trên máy Ubuntu:
- Cài đặt OpenVPN Server:
 
- Tạo easy-rsa:
 
- Thay đổi chủ sở hữu của các tập tin:
 


- Tạo PKI:
 
- Tạo các DIR để giữ các tệp:
 
- Dựng CA:
 
- Dựng chứng chỉ và khóa cho Server:
 
- Tạo CRL:
 



- Tạo tham số DH:
 
- Tạo khóa mật mã TLS:
 
- Sao chép các tệp cần thiết vào thư mục server:
 
- Dựng chứng chỉ và khóa cho Windows client:
 
- Sao chép các tệp Windows client:
 
- Nén thư mục client:
 
- Đưa tệp zip sang máy client:
 
- Sao chép các tệp server sang thư mục server:
 


- Cấp cho server khả năng chuyển tiếp IP:
 
- Tạo tệp cấu hình:
 
 
- Bật dịch vụ OpenVPN Server:
 
- Thêm luật iptables:
 
 
2. Cài đặt trên máy Windows 10:
- Truy cập vào https://openvpn.net/community-downloads/ , chọn phiên bản 2.5.5 và tải tệp .msi ở mục Windows 64-bit MSI installer:
 
- Sau khi tải về và chạy tệp ta được OpenVPN:
 




- Giải nén tệp zip win_client:
 
- Sao chép các tệp trong thư mục win_client vào thư mục C:\Program Files\OpenVPN\config:
 
- Tạo tệp client.ovpn và thêm nội dung vào tệp:
 
 
- Sao chép tệp client.ovpn sang thư mục C:\Program Files\OpenVPN\config:
 



- Nhấp chuột phải vào biểu tượng OpenVPN, chọn Connect và nhập mật khẩu:
 

 
3. Kiểm tra kết nối:
- Ping từ máy Windows 10 sang máy Windows 7:
 
- Thực hiện truy cập vào tệp của máy Windows 7:
 
- Thử xóa thư mục test, thư mục biến mất ở máy Windows 7:
 
 

